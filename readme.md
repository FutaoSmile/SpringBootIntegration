#### # focus on
github ğŸ”—[https://github.com/FutaoSmile/springbootFramework](https://github.com/FutaoSmile/springbootFramework)

gitee ğŸ”— [https://gitee.com/FutaoSmile/springboot_framework](https://gitee.com/FutaoSmile/springboot_framework)

<p align="center">

![https://img.shields.io/badge/jdk-v1.8-green.svg](https://img.shields.io/badge/jdk-v1.8-green.svg)
![https://img.shields.io/badge/version-v0.0.1--SNAPSHOT-green.svg](https://img.shields.io/badge/version-v0.0.1--SNAPSHOT-green.svg)

</p>
gitæ·»åŠ å¤šè¿œç¨‹ä»“åº“

` git remote set-url --add origin git@github.com:FutaoSmile/springbootFramework.git`

### # é…åˆé…å¥—æ–‡ç« é£Ÿç”¨æ›´åŠ å“¦~
*   [SpringBoot2.0ç»Ÿä¸€è¿”å›Resté£æ ¼æ•°æ®ç»“æ„ä¸ç»Ÿä¸€å¼‚å¸¸å¤„ç†](https://www.jianshu.com/p/9ff254413e9d)
*   [åŸºäºæ³¨è§£çš„ç”¨æˆ·ç™»å½•æƒé™æ‹¦æˆªSpring HandlerInterceptor](https://www.jianshu.com/p/657fa7118e84)
*   [SpringBoot 2.0å‚æ•°æ ¡éªŒHibernate Validator](https://www.jianshu.com/p/6f3d809c6705)
*   [è‡ªå®šä¹‰Hibernate Validatoræ ¡éªŒæ³¨è§£](https://www.jianshu.com/p/86c318c023cb)
*   [@ConfigurationPropertiesæ³¨è§£çš„ä½¿ç”¨ä¸@Valueçš„ä½¿ç”¨](https://www.jianshu.com/p/1bb95eb83ca6)
*   [SpringBootæ•´åˆdruidè¿æ¥æ± ](https://www.jianshu.com/p/0631755f9983)
*   [SpringBootæ•´åˆredisä»å®‰è£…åˆ°FLUSHALL](https://www.jianshu.com/p/38b733f7f5f3)
*   [ä¸ºä»€ä¹ˆå‘é€é‚®ä»¶è¦ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è€Œä¸æ˜¯å¤šçº¿ç¨‹](https://www.jianshu.com/p/ea6ed45fc5b8)
*   [SpringBoot å‘é€é‚®ä»¶](https://www.jianshu.com/p/65a1f7f63522)
*   [SpringBootæ•´åˆRocketMQæ¶ˆæ¯é˜Ÿåˆ—](https://www.jianshu.com/p/dd7ca2d10767)
*   [IntelliJ IDEAä¸ªäººé…ç½®ï¼ˆæŒç»­æ›´æ–°ï¼‰](https://www.jianshu.com/p/d9d7a14927ea)
*   [SpringBootæ•´åˆelasticsearchå…¨æ–‡æ£€ç´¢å…¥é—¨](https://www.jianshu.com/p/d8abebf7aa62)
*   [SpringBoot 403 è·¨åŸŸè§£å†³æ–¹æ¡ˆ](https://www.jianshu.com/p/535930a6e572)
*   [åŸºäºåˆ‡é¢ä¸æ³¨è§£çš„ç”¨æˆ·æƒé™æ‹¦æˆª](https://www.jianshu.com/p/71200d94a9bf)
*   [SpringBootå›½é™…åŒ–](https://www.jianshu.com/p/7784968e1659)
*   [CrudBoyå¿«ä¹æ°´-ç¼–å†™ä»£ç ç”Ÿæˆå™¨](https://www.jianshu.com/p/d08905064f40)
*   [è·¨åŸŸçš„åŸå› ä»¥åŠè§£å†³æ–¹æ¡ˆ](https://www.jianshu.com/p/106d6e0bb43d)
*   [ã€ç‰›ğŸ‚ğŸºã€‘ä½¿ç”¨Redisä½œä¸ºMybatisçš„äºŒçº§ç¼“å­˜MybatisCacheRedis](https://www.jianshu.com/p/65d145d8e8dd)

### # ç¯å¢ƒ
* SpringBoot 2.0.5.RELEASE
* java 1.8
* redis
* rocket mq 4.3.0
* elasticsearch 5.6.11
* gradle
* mybatis
* mysql
* idea
* git

### # å®ç°çš„åŠŸèƒ½ï¼š
 
> ç»Ÿä¸€è¿”å›çš„æ•°æ®ç»“æ„

> ç»Ÿä¸€å¼‚å¸¸å¤„ç†(ç³»ç»Ÿå¼‚å¸¸/ä¸šåŠ¡é€»è¾‘å¼‚å¸¸)

> æœåŠ¡ç«¯è¯·æ±‚å‚æ•°æ ¡éªŒ

> Swaggeræ¥å£æ–‡æ¡£

> æ•´åˆmybatis
   * mybatis + rediså®ç°çš„äºŒçº§ç¼“å­˜

> ç”¨æˆ·ç™»å½•(æ»¡è¶³åˆ†å¸ƒå¼)
    åŸºäº`httpsession`

> æ§åˆ¶æ¥å£çš„è®¿é—®æƒé™ï¼ˆå¿…é¡»ç™»å½•æ‰èƒ½è®¿é—®/å¯ä¸ç™»å½•ç›´æ¥è®¿é—®çš„èµ„æºï¼‰
 * åŸºäº `Annotation`+`SpringMvc Interceptor`æ‹¦æˆªå™¨

> è¯·æ±‚æ—¥å¿—è®°å½•
 * åŸºäº`SpringMvc Interceptor`æ‹¦æˆªå™¨

> åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡
 * åŸºäº`HttpSessionListener`ç›‘å¬å™¨

> æ¥å£è¯·æ±‚æ¬¡æ•°ç»Ÿè®¡
 * åŸºäº`SpringMvc Interceptor`æ‹¦æˆªå™¨

> æ•æ„Ÿè¯æ£€æµ‹
 * åŸºäº`Annotation`+`Hibernate Validator`+`SpringMvc Interceptor`
 
> ç¬¬ä¸‰æ–¹æ¥å£ç»Ÿä¸€éªŒç­¾
 * åŸºäº`Annotation`+`SpringMvc Interceptor`

> æ•´åˆredis

> å‘é€é‚®ä»¶

> æ•´åˆRocketMqæ¶ˆæ¯é˜Ÿåˆ—

> logback æ—¥å¿—ç³»ç»Ÿ

> è§£å†³è·¨åŸŸè®¿é—®

> è·å–æ±‰å­—æ‹¼éŸ³çš„é¦–å­—æ¯

> åˆ†å¸ƒå¼sessionç®¡ç† => springSession + redis

> mybatis-plus(å¾…ä¼˜åŒ–)
[https://mp.baomidou.com/](https://mp.baomidou.com/)

> å›½é™…åŒ–

> HttpClient 

> Spring Security & apache shiro (å¾…å®Œå–„)
 
> ä»£ç ç”Ÿæˆå™¨

### # é¡¹ç›®ç»“æ„
```
src
|-main æºä»£ç 
    |-java javaä»£ç 
        |-com.futao.springbootdemo
            |-annotaion é¡¹ç›®ç”¨åˆ°çš„è‡ªå®šä¹‰æ³¨è§£
            |-controller æ¥å£
            |-dao æŒä¹…å±‚
            |-foundation æ”¯æŒé¡¹ç›®è¿è¡Œçš„ä¸€äº›åŠŸèƒ½ä»£ç 
            |-model å®ä½“å±‚
            |-service ä¸šåŠ¡é€»è¾‘å±‚
            |-utils å·¥å…·ç±»
            |-SpringmvcdemoApplication.java å¯åŠ¨ç±»
    |-kotlin kotlinä»£ç 
    |-resource é…ç½®æ–‡ä»¶
|-test
```

> 138.128.197.162
> ç™»é™†åœ°å€: [http://localhost:8888/login.html](http://localhost:8888/login.html)

> swagger apiåœ°å€: [http://localhost:8888/swagger-ui.html#!](http://localhost:8888/swagger-ui.html#!)

> druidè¿æ¥æ± åœ°å€: [http://localhost:8888/druid/index.html](http://localhost:8888/druid/index.html)

> rocketmqæ§åˆ¶å°åœ°å€: [http://localhost:8088/#/](http://localhost:8088/#/)

> kibanaåœ°å€: [http://localhost:5601/app/kibana](http://localhost:5601/app/kibana)

> æ‰“åŒ…ç”ŸæˆjaråŒ… `gradle clean build -x test`
    
> è¿è¡Œ `java -jar ./build/libs/springbootdemo-0.0.1-SNAPSHOT.jar`


### # TODO items
* ~~mybatisåˆ†é¡µ~~ -> sqlåˆ†é¡µ

* ~~elastic searchå…¨æ–‡æ£€ç´¢~~
    * æŸ¥è¯¢è¯­å¥
    * elasticsearchåˆ†è¯å™¨
    * ä»æ•°æ®åº“ä¸­è¯»å–æ‰€æœ‰æ•°æ®(å»ºç«‹/é‡å»ºç´¢å¼•)
        * è‡ªå·±å®ç°
        * elastic-jdbc
* æ¥å£é™æµ
    * æ¼æ–—ç®—æ³•
    * ä»¤ç‰Œæ¡¶ç®—æ³•
    * Sentinel
* shiro å®‰å…¨æ¡†æ¶
* solr å…¨æ–‡æ£€ç´¢æ¡†æ¶
* Excelçš„å¯¼å…¥å¯¼å‡º
* WebSecurity
* Conditionæ¥å£ä¸@Conditionalæ³¨è§£çš„ä½¿ç”¨
* @Enable* æ³¨è§£åŸç†ä¸@Importæ³¨è§£çš„ä½¿ç”¨
* ImportSelectorä¸ImportBeanDefinitionRegistraræ¥å£çš„ä½¿ç”¨
* æœåŠ¡ç«¯æ¶ˆæ¯æ¨é€
    * SSE 
    * Socket
* zxingäºŒç»´ç 
* hashMapåŸç†
* ä¸€ç§ç”¨äº API çš„æŸ¥è¯¢è¯­è¨€-éå¸¸æ–°é¢–ï¼Œé¢ è¦†ä»¥å¾€çš„è®¤çŸ¥ [http://graphql.cn/](http://graphql.cn/)
* åˆ†å¸ƒå¼æ—¥å¿—æ”¶é›†logstash+kibana
* å¿ƒè·³

æŠ¥é”™å†…å®¹:

Error running 'ServiceStarter': Command line is too long. Shorten command line for ServiceStarter or also for Application default configuration.


è§£æ³•:

ä¿®æ”¹é¡¹ç›®ä¸‹ `.idea\workspace.xml`ï¼Œæ‰¾åˆ°æ ‡ç­¾Â `<component name="PropertiesComponent"> `ï¼Œ åœ¨æ ‡ç­¾é‡ŒåŠ ä¸€è¡ŒÂ Â `<property name="dynamic.classpath" value="true" />`


åœ¨é¡¹ç›®å¯åŠ¨æ—¶å€™é€‰æ‹©æ¿€æ´»çš„profile
`java -jar springmvcdemo-0.0.1-SNAPSHOT.jar --spring.profiles.active=prd` --server.port=8888




    /*--------------------------------------------
    |         C O N S T R U C T O R S           |
    ============================================*/

    /*--------------------------------------------
    |  A C C E S S O R S / M O D I F I E R S    |
    ============================================*/

### # å¼€å‘è€…profileçš„è§£å†³æ–¹æ¡ˆ:
[ä½¿ç”¨gradleæ„å»ºçš„springbooté¡¹ç›®åœ¨IDEAæ ¹æ®ä¸åŒçš„å¼€å‘äººå‘˜è¯»å–ä¸åŒçš„é…ç½®æ–‡ä»¶](https://www.jianshu.com/p/27abbeccbebe)

æ–°å»ºapplication-developerName.yml
åœ¨IDEAä¸­è®¾ç½® ProgramArguments:`spring.profiles.active=developerName`


### # Rocketmq
* å¯åŠ¨nameserver ` ~/soft/rocketmq-all-4.3.0/distribution/target/apache-rocketmq/bin î‚° ./mqnamesrv`
* å¯åŠ¨broker `~/soft/rocketmq-all-4.3.0/distribution/target/apache-rocketmq/bin î‚° ./mqbroker -n 127.0.0.1:9876 autoCreateTopicEnable=true`
* å¯åŠ¨console `java -jar ./docs/jars/rocketmq-console-ng-1.0.0.jar`
* å¦‚æœæ²¡è£…rocketmqï¼Œå¯å…³é—­è¯¥åŠŸèƒ½(é¡¹ç›®ä¸­ä½¿ç”¨åˆ°rocketmqçš„åœ°æ–¹éƒ½å°†è¢«å…³é—­)ã€‚å…³é—­æ–¹æ³•: é…ç½®æ–‡ä»¶:`rocketmq.consumer.onOff:off,rocketmq.producer.onOff:off`

## #ä»£ç è§„èŒƒ

> å¼ºåˆ¶

* å¯¹äºä¾èµ–RocketMqçš„Bean
    * å¦‚æœä¾èµ–ç”Ÿäº§è€…ï¼Œåˆ™éœ€è¦éœ€è¦æ ‡æ³¨`@Conditional(RocketMqProducerOnOff::class)`
    * å¦‚æœä¾èµ–æ¶ˆè´¹è€…ï¼Œåˆ™éœ€è¦æ ‡æ³¨`@Conditional(RocketMqConsumerOnOff::class)`
å¦åˆ™é¡¹ç›®å¯ä¸èµ·æ¥
* éœ€è¦åºåˆ—åŒ–çš„ç±»çš„æ‰€æœ‰å­—æ®µéƒ½ä¸èƒ½ä»¥iså¼€å¤´ï¼Œbooleanç±»å‹ä¹Ÿä¸å¯ä»¥ï¼Œå¦åˆ™æ¡†æ¶åœ¨åºåˆ—åŒ–çš„æ—¶å€™ä¼šå‡ºé—®é¢˜ã€‚ç›®å‰å‡ºç°çš„é—®é¢˜æ˜¯isSuccessè¿”å›åˆ°å‰ç«¯è¿˜æ˜¯successï¼Œisè¢«åƒæ‰äº†
* é¡¹ç›®ä¾èµ–çš„å…¶ä»–jaråŒ…æ”¾åœ¨jarsæ–‡ä»¶å¤¹ä¸‹
* ç¨‹åºä¸­æ“ä½œredisä¸å…è®¸ä½¿ç”¨`keys`æ“ä½œ
* @Resource å±äºJ2EEå¯¹äºJSR-250è§„èŒƒçš„å®ç°ï¼Œä¸å±äºSpring
    * å¦‚æœæœªè®¾ç½®name/typeï¼Œ   åˆ™å…ˆbyNameï¼Œå†byType
    * å¦‚æœè®¾ç½®äº†name/typeï¼Œ   æ‰¾ä¸åˆ°åˆ™æŠ¥é”™
* @Autowired  å±äºSpring  é»˜è®¤byType

### # é˜¿é‡Œå·´å·´é™æµå·¥å…· Sentinel æ§åˆ¶å°
* https://github.com/alibaba/Sentinel/wiki/%E4%BB%8B%E7%BB%8D
* https://github.com/alibaba/Sentinel/wiki/%E6%8E%A7%E5%88%B6%E5%8F%B0
* æ³¨è§£æ”¯æŒ https://github.com/alibaba/Sentinel/wiki/%E6%B3%A8%E8%A7%A3%E6%94%AF%E6%8C%81
* å¯åŠ¨ `java -Dserver.port=8080 -Dcsp.sentinel.dashboard.server=localhost:8080 -Dproject.name=sentinel-dashboard -jar ./docs/console/sentinel-dashboard.jar`
* å…¶ä¸­ -Dserver.port=8080 ç”¨äºæŒ‡å®š Sentinel æ§åˆ¶å°ç«¯å£ä¸º 8080ã€‚
* springbooté¡¹ç›®å¯åŠ¨æ—¶åŠ å…¥ JVM å‚æ•° -Dcsp.sentinel.dashboard.server=consoleIp:port æŒ‡å®šæ§åˆ¶å°åœ°å€å’Œç«¯å£ã€‚è‹¥å¯åŠ¨å¤šä¸ªåº”ç”¨ï¼Œåˆ™éœ€è¦é€šè¿‡ -Dcsp.sentinel.api.port=xxxx æŒ‡å®šå®¢æˆ·ç«¯ç›‘æ§ API çš„ç«¯å£ï¼ˆé»˜è®¤æ˜¯ 8719ï¼‰
* å¦‚æœè¯·æ±‚çš„æ–¹æ³•ä¸Šæ ‡è®°äº†@Cachexxx()æ³¨è§£åˆ™Sentinelæ— æ•ˆ

å¦‚æœå‡ºç°ä¸‹è½½ä¸äº†jaråŒ…çš„æƒ…å†µï¼ŒæŠŠtoggle offline modeå…³æ‰

https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/
